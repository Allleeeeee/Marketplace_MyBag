{"ast":null,"code":"var _jsxFileName = \"D:\\\\nkurs\\\\client\\\\src\\\\pages\\\\SellersPage.js\",\n  _s = $RefreshSig$();\n// pages/SellersPage.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '../index';\nimport { useHistory } from 'react-router-dom';\nimport '../css/pages/SellersPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SellersPage = _s(observer(_c = _s(() => {\n  _s();\n  const {\n    product\n  } = useContext(Context);\n  const history = useHistory();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    loadSellers();\n  }, [currentPage, product.selectedCity]);\n  const loadSellers = async () => {\n    setLoading(true);\n    try {\n      await product.fetchSellers(product.selectedCity, currentPage, 12);\n    } catch (error) {\n      console.error('Ошибка при загрузке продавцов:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSellerClick = seller => {\n    history.push(`/seller/${seller.id}`);\n  };\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    window.scrollTo(0, 0);\n  };\n  const totalPages = Math.ceil(product.sellersTotalCount / 12);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sellers-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sellers-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"sellers-title\",\n        children: product.selectedCity ? `Магазины в ${product.selectedCity}` : 'Все магазины'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\\u043E\\u0432...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this) : product.sellers && product.sellers.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sellers-grid\",\n          children: product.sellers.map(seller => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"seller-card\",\n            onClick: () => handleSellerClick(seller),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"seller-image\",\n              children: [seller.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: seller.img,\n                alt: seller.name,\n                onError: e => {\n                  e.target.style.display = 'none';\n                  e.target.nextSibling.style.display = 'flex';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 45\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"seller-image-placeholder\",\n                children: \"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"seller-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"seller-name\",\n                children: seller.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"seller-description\",\n                children: seller.description || 'Магазин товаров'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 41\n              }, this), seller.rating && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"seller-rating\",\n                children: [\"\\u0420\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433: \", seller.rating.toFixed(1)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this)]\n          }, seller.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: Array.from({\n            length: totalPages\n          }, (_, i) => i + 1).map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `page-button ${currentPage === page ? 'active' : ''}`,\n            onClick: () => handlePageChange(page),\n            children: page\n          }, page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-sellers\",\n        children: product.selectedCity ? `В городе ${product.selectedCity} пока нет магазинов` : 'Магазины не найдены'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}, \"7P5OFtfKoTf5QRqTaznbCoT3yok=\", false, function () {\n  return [useHistory];\n})), \"7P5OFtfKoTf5QRqTaznbCoT3yok=\", false, function () {\n  return [useHistory];\n});\n_c2 = SellersPage;\nexport default SellersPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"SellersPage$observer\");\n$RefreshReg$(_c2, \"SellersPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","observer","Context","useHistory","jsxDEV","_jsxDEV","Fragment","_Fragment","SellersPage","_s","_c","product","history","currentPage","setCurrentPage","loading","setLoading","loadSellers","selectedCity","fetchSellers","error","console","handleSellerClick","seller","push","id","handlePageChange","page","window","scrollTo","totalPages","Math","ceil","sellersTotalCount","className","children","fileName","_jsxFileName","lineNumber","columnNumber","sellers","length","map","onClick","img","src","alt","name","onError","e","target","style","display","nextSibling","description","rating","toFixed","Array","from","_","i","_c2","$RefreshReg$"],"sources":["D:/nkurs/client/src/pages/SellersPage.js"],"sourcesContent":["// pages/SellersPage.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Context } from '../index';\r\nimport { useHistory } from 'react-router-dom';\r\nimport '../css/pages/SellersPage.css';\r\n\r\nconst SellersPage = observer(() => {\r\n    const { product } = useContext(Context);\r\n    const history = useHistory();\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadSellers();\r\n    }, [currentPage, product.selectedCity]);\r\n\r\n    const loadSellers = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await product.fetchSellers(product.selectedCity, currentPage, 12);\r\n        } catch (error) {\r\n            console.error('Ошибка при загрузке продавцов:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSellerClick = (seller) => {\r\n        history.push(`/seller/${seller.id}`);\r\n    };\r\n\r\n    const handlePageChange = (page) => {\r\n        setCurrentPage(page);\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    const totalPages = Math.ceil(product.sellersTotalCount / 12);\r\n\r\n    return (\r\n        <div className=\"sellers-page\">\r\n            <div className=\"sellers-container\">\r\n                <h1 className=\"sellers-title\">\r\n                    {product.selectedCity \r\n                        ? `Магазины в ${product.selectedCity}`\r\n                        : 'Все магазины'\r\n                    }\r\n                </h1>\r\n                \r\n                {loading ? (\r\n                    <div className=\"loading\">Загрузка магазинов...</div>\r\n                ) : product.sellers && product.sellers.length > 0 ? (\r\n                    <>\r\n                        <div className=\"sellers-grid\">\r\n                            {product.sellers.map(seller => (\r\n                                <div \r\n                                    key={seller.id} \r\n                                    className=\"seller-card\"\r\n                                    onClick={() => handleSellerClick(seller)}\r\n                                >\r\n                                    <div className=\"seller-image\">\r\n                                        {seller.img ? (\r\n                                            <img \r\n                                                src={seller.img} \r\n                                                alt={seller.name}\r\n                                                onError={(e) => {\r\n                                                    e.target.style.display = 'none';\r\n                                                    e.target.nextSibling.style.display = 'flex';\r\n                                                }}\r\n                                            />\r\n                                        ) : null}\r\n                                        <div className=\"seller-image-placeholder\">\r\n                                            Магазин\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"seller-info\">\r\n                                        <h3 className=\"seller-name\">{seller.name}</h3>\r\n                                        <p className=\"seller-description\">\r\n                                            {seller.description || 'Магазин товаров'}\r\n                                        </p>\r\n                                        {seller.rating && (\r\n                                            <div className=\"seller-rating\">\r\n                                                Рейтинг: {seller.rating.toFixed(1)}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {totalPages > 1 && (\r\n                            <div className=\"pagination\">\r\n                                {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => (\r\n                                    <button\r\n                                        key={page}\r\n                                        className={`page-button ${currentPage === page ? 'active' : ''}`}\r\n                                        onClick={() => handlePageChange(page)}\r\n                                    >\r\n                                        {page}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                ) : (\r\n                    !loading && (\r\n                        <div className=\"no-sellers\">\r\n                            {product.selectedCity \r\n                                ? `В городе ${product.selectedCity} пока нет магазинов`\r\n                                : 'Магазины не найдены'\r\n                            }\r\n                        </div>\r\n                    )\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default SellersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}