{"ast":null,"code":"// http/sellerAPI.js\nimport { $authHost } from \"./index\";\nexport const createSeller = async sellerData => {\n  const {\n    data\n  } = await $authHost.post('api/seller', sellerData);\n  return data;\n};\nexport const getSellerByUserId = async userId => {\n  const {\n    data\n  } = await $authHost.get(`api/seller/user/${userId}`);\n  return data;\n};\nexport const checkOrCreateSeller = async (userId, sellerName = 'Мой магазин') => {\n  try {\n    // Пытаемся найти существующего продавца\n    let seller = await getSellerByUserId(userId);\n\n    // Если продавец не найден, создаем нового\n    if (!seller) {\n      seller = await createSeller({\n        name: sellerName,\n        user_id: userId,\n        description: 'Описание магазина'\n      });\n    }\n    return seller;\n  } catch (error) {\n    console.error('Error in checkOrCreateSeller:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["$authHost","createSeller","sellerData","data","post","getSellerByUserId","userId","get","checkOrCreateSeller","sellerName","seller","name","user_id","description","error","console"],"sources":["D:/nkurs/client/src/http/sellerAPI.js"],"sourcesContent":["// http/sellerAPI.js\r\nimport { $authHost } from \"./index\";\r\n\r\nexport const createSeller = async (sellerData) => {\r\n    const { data } = await $authHost.post('api/seller', sellerData);\r\n    return data;\r\n};\r\n\r\nexport const getSellerByUserId = async (userId) => {\r\n    const { data } = await $authHost.get(`api/seller/user/${userId}`);\r\n    return data;\r\n};\r\n\r\nexport const checkOrCreateSeller = async (userId, sellerName = 'Мой магазин') => {\r\n    try {\r\n        // Пытаемся найти существующего продавца\r\n        let seller = await getSellerByUserId(userId);\r\n        \r\n        // Если продавец не найден, создаем нового\r\n        if (!seller) {\r\n            seller = await createSeller({\r\n                name: sellerName,\r\n                user_id: userId,\r\n                description: 'Описание магазина'\r\n            });\r\n        }\r\n        \r\n        return seller;\r\n    } catch (error) {\r\n        console.error('Error in checkOrCreateSeller:', error);\r\n        throw error;\r\n    }\r\n};"],"mappings":"AAAA;AACA,SAASA,SAAS,QAAQ,SAAS;AAEnC,OAAO,MAAMC,YAAY,GAAG,MAAOC,UAAU,IAAK;EAC9C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMH,SAAS,CAACI,IAAI,CAAC,YAAY,EAAEF,UAAU,CAAC;EAC/D,OAAOC,IAAI;AACf,CAAC;AAED,OAAO,MAAME,iBAAiB,GAAG,MAAOC,MAAM,IAAK;EAC/C,MAAM;IAAEH;EAAK,CAAC,GAAG,MAAMH,SAAS,CAACO,GAAG,CAAC,mBAAmBD,MAAM,EAAE,CAAC;EACjE,OAAOH,IAAI;AACf,CAAC;AAED,OAAO,MAAMK,mBAAmB,GAAG,MAAAA,CAAOF,MAAM,EAAEG,UAAU,GAAG,aAAa,KAAK;EAC7E,IAAI;IACA;IACA,IAAIC,MAAM,GAAG,MAAML,iBAAiB,CAACC,MAAM,CAAC;;IAE5C;IACA,IAAI,CAACI,MAAM,EAAE;MACTA,MAAM,GAAG,MAAMT,YAAY,CAAC;QACxBU,IAAI,EAAEF,UAAU;QAChBG,OAAO,EAAEN,MAAM;QACfO,WAAW,EAAE;MACjB,CAAC,CAAC;IACN;IAEA,OAAOH,MAAM;EACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,MAAMA,KAAK;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}